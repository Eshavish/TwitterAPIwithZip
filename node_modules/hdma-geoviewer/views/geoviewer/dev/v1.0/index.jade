doctype html
html(lang="en"  prefix="og: http://ogp.me/ns#")
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible", content="IE=edge")
    meta(name="viewport", content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width")
    meta(name="mobile-web-app-capable", content="yes")
    meta(name="apple-mobile-web-app-capable", content="yes")
    meta(name="description", content="")
    meta(name="author", content="")
    meta(property="og:description", content="GeoViewer is a Web-based mapping application which provides the general public a window to see the ground truth of a topic and its changes in social media.")
    meta(property="og:image", content="http://vision.sdsu.edu/hdma/geoviewer/images/geoviewer.png")
    meta(property="og:url", content="http://vision.sdsu.edu/hdma/geoviewer/")
    meta(property="og:site_name", content="GeoViewer || Human Dynamic Center, SDSU")
    meta(property="og:type", content="website")
    meta(property="og:title", content="GeoViewer || Human Dynamic Center, SDSU")
    title GeoViewer || Human Dynamic Center, SDSU
    include css


  body
    .navbar.navbar-inverse.navbar-fixed-top(role="navigation")
      .navbar-header
        .navbar-icon-container
          a#nav-btn.navbar-icon.pull-right.visible-xs(href="#")
            i.fa.fa-bars.fa-lg.white
          //a#sidebar-toggle-btn.navbar-icon.pull-right.visible-xs(href="#")
            //i.fa.fa-search.fa-lg.white
        a.navbar-brand(href="http://humandynamics.sdsu.edu/" target='_blank') 
          img#logo(src='images/HDMA_Logo_Small_For_Dark_Background_ICON.png' style='width:80px; ')
          |   GeoViewer
      .navbar-collapse.collapse
        form.navbar-form.navbar-right(role="search")
          .form-group.has-feedback.navbar-right
            //input#searchbox.form-control(type="text", placeholder="Search")
            //span#searchicon.fa.fa-search.form-control-feedback
        ul.nav.navbar-nav.navbar-right#navbar-toolbar
          li#username
          li
            a#btn-login(href='#')
              i.fa.fa-user.white(title='Login')             
              span Log in

      // /.navbar-collapse


    #container
      #sidebar-menu
        ul
          li
            a#list-btn(href="#", data-toggle="collapse")
              i.fa.fa-chevron-left.white(title='Collapse/Expand Menu')
          li
            a(href='#', data-target='#sidebar-home')
              i.fa.fa-home.white(title='Home')
          li
            a(href="#", data-target="#sidebar-streamingList")
              i.fa.fa-twitter.white
          li
            a(href="#", data-target="#sidebar-search")
              i.fa.fa-search.white
          //li
            //a(href='#' data-target='#sidebar-picture')
              //i.fa.fa-picture-o.white(title='Picture')
          //li
            //a#btn-login(href='#' data-target='')
              //i.fa.fa-user.white(title='Login')
          li
            a#about-btn(href='#' data-target='#sidebar-about')
              i.fa.fa-question-circle.white(title='About')
      #sidebar
        .sidebar-wrapper
          #sidebar-streamingList.panel.panel-default
            .panel-heading
              h3.panel-title
                | Monitor Real-time Tweets in San Diego
                button#sidebar-hide-btn.btn.btn-xs.btn-default.pull-right(type="button")
                  i.fa.fa-chevron-left
            .panel-body
              p 
                .row.form-group
                  .col-xs-12.col-md-12
                    .input-group
                      span.input-group-addon(data-container="body",data-toggle="popover", data-placement="bottom", data-trigger='hover', data-html='true', data-content="You may use <ul><li>1) comma (',') for multiple keywords</li><li>2) '-' to exclude keywords</li></ul><p></p> For example, <br><b>wildfire, fire, -chula vista</b></br>is to search tweets which have 'wildfire' and 'fire' keywords but without 'chula vista' keyword.")
                        i.fa.fa-question
                      input.form-control#streaming-filter(type="text", placeholder="Input Keywords to Filter Tweets")
                    span.badge#streaming-filter-badge 0
                    img#streaming-filter-loading(src='images/loading.gif')
                    label.geomasking * HDMA center protects twitter users' privacy which conceals their locations by randomly selecting a coordinate in a 100m radius.
                ul.nav.nav-tabs.nav-justified#streaming-tabs
                  li.active(role='')
                    a(href='#' data-onlyImage="false" data-toggle="tab") Latest 100 Tweets
                      img.tabs-loading(src='images/loading.gif')
                  li(role='')
                    a(href='#' data-onlyImage="true" data-toggle="tab") Tweets with Images
                      img.tabs-loading(src='images/loading.gif')
            .sidebar-list
              ul.streamingList
              ul.cacheStreamingList

          #sidebar-search.panel.panel-default
            .panel-heading
              h3.panel-title
                | Search
                button#sidebar-hide-btn.btn.btn-xs.btn-default.pull-right(type="button")
                  i.fa.fa-chevron-left
            .panel-body
              p
                .row.form-group
                  .col-xs-3.col-md-3.control-label Keyword
                  .col-xs-9.col-md-9.input-group-sm
                    .input-group
                      span.input-group-addon(data-container="body",data-toggle="popover", data-placement="bottom", data-trigger='hover', data-html='true', data-content="You may use <ul><li>1) comma (',') for multiple keywords</li><li>2) '-' to exclude keywords</li></ul><p></p> For example, <br><b>wildfire, fire, -chula vista</b></br>is to search tweets which have 'wildfire' and 'fire' keywords but without 'chula vista' keyword.")
                        i.fa.fa-question
                      input#search-keyword.form-control(type="text", placeholder="Input keywords")
                .row.form-group
                  .col-xs-3.col-md-3.control-label Date
                  .col-xs-9.col-md-9
                    .input-group.input-group-sm
                      span.input-group-addon From
                      input#search-startDate.form-control.datepicker(type="text")
                    .input-group.input-group-sm
                      span.input-group-addon &nbsp;&nbsp;To&nbsp;&nbsp;
                      input#search-endDate.form-control.datepicker(type="text")
                .row.form-group
                  .col-xs-3.col-md-3.control-label GeoLocation
                  .col-xs-9.col-md-9
                    .input-group.input-group-sm
                      span.input-group-addon.search-geolocation.click
                        i.fa.fa-compass
                      input#search-geolocation.search-geolocation.click.form-control(type="text", placeholder="Click to draw a rectangle on the map")
                .row.form-group
                  .col-xs-6.col-md-6.control-label.search-msg
                  .col-xs-6.col-md-6.toolbar
                    button#search-btn.btn.btn-primary.pull-right(type="button", data-sort="feature-name") Search
                    button#download-btn.btn.btn-primary.pull-right(type="button", data-sort="feature-name", style='display:none; ') Download
                .row.form-group
                  .col-xs-12.col-md-12
                    label.geomasking * HDMA center protects twitter users' privacy which conceals their locations by randomly selecting a coordinate in a 100m radius.				  
                ul.nav.nav-tabs.nav-justified#search-tabs
                  li.active(role='')
                    a(href='#' data-onlyImage="false" data-toggle="tab") All Tweets  
                      span.badge
                      img.tabs-loading(src='images/loading.gif')
                  li(role='')
                    a(href='#' data-onlyImage="true" data-toggle="tab") Tweets with Images	   
                      span.badge
                      img.tabs-loading(src='images/loading.gif')
            .sidebar-list
              ul.searchList

          #sidebar-picture.panel.panel-default(style='display:none;')
            .panel-heading
              h3.panel-title
                | Gallery
            .panel-body

          #sidebar-about.panel.panel-default(style='display:none;')
            .panel-heading
              h3.panel-title
                | About
            .panel-body

          #sidebar-login.panel.panel-default(style='display:none;')
            .panel-heading
              h3.panel-title
                | Login
            .panel-body

          #sidebar-home.panel.panel-default(style='display:none;')
            .panel-heading
              h3.panel-title
                | Home
            .panel-body
              p GeoViewer is a Web-based mapping application which provides the general public a window to see the ground truth of a topic and its changes in social media. It features:
              p (1) mapping historical and real-time social media data.
              p (2) providing easy-to-use geospatial functions, such as hotpost and cluster layers.
              p (3) collecting multimedia sources, such as pictures and videos.
              p We hope the GeoViewer can be applied into emergency responses, such as wildfire, to monitor real-time social media data to pre-warn related authorities and to decrease any losses and damages.

      #map
    #loading
      .loading-indicator
        .progress.progress-striped.active
          .progress-bar.progress-bar-info.progress-bar-full
    #aboutModal.modal.fade(tabindex="-1", role="dialog")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal", aria-hidden="true") &#215;
            h4.modal-title Welcome to the BootLeaf template!
          .modal-body
            ul#aboutTabs.nav.nav-tabs
              li.active
                a(href="#about", data-toggle="tab")
                  i.fa.fa-question-circle
                  | About the project
              li
                a(href="#contact", data-toggle="tab")
                  i.fa.fa-envelope
                  | Contact us
              li
                a(href="#disclaimer", data-toggle="tab")
                  i.fa.fa-exclamation-circle
                  | Disclaimer
              li.dropdown
                a.dropdown-toggle(href="#", data-toggle="dropdown")
                  i.fa.fa-globe
                  | Metadata
                  b.caret
                ul.dropdown-menu
                  li
                    a(href="#boroughs-tab", data-toggle="tab") Boroughs
                  li
                    a(href="#subway-lines-tab", data-toggle="tab") Subway Lines
                  li
                    a(href="#theaters-tab", data-toggle="tab") Theaters
                  li
                    a(href="#museums-tab", data-toggle="tab") Museums
            #aboutTabsContent.tab-content
              #about.tab-pane.fade.active.in
                p
                  | A simple, responsive template for building web mapping applications with
                  a(href="http://getbootstrap.com/") Bootstrap 3
                  | ,
                  a(href="http://leafletjs.com/", target="_blank") Leaflet
                  | , and
                  a(href="http://twitter.github.io/typeahead.js/", target="_blank") typeahead.js
                  | . Open source, MIT licensed, and available on
                  a(href="https://github.com/bmcbride/bootleaf", target="_blank") GitHub
                  | .
                .panel.panel-primary
                  .panel-heading Features
                  ul.list-group
                    li.list-group-item
                      | Fullscreen mobile-friendly map template with responsive navbar and modal placeholders
                    li.list-group-item jQuery loading of external GeoJSON files
                    li.list-group-item
                      | Logical multiple layer marker clustering via the
                      a(href="https://github.com/Leaflet/Leaflet.markercluster", target="_blank") leaflet marker cluster plugin
                    li.list-group-item
                      | Elegant client-side multi-layer feature search with autocomplete using
                      a(href="http://twitter.github.io/typeahead.js/", target="_blank") typeahead.js
                    li.list-group-item
                      | Responsive sidebar feature list with sorting and filtering via
                      a(href="http://listjs.com/", target="_blank") list.js
                    li.list-group-item
                      | Marker icons included in grouped layer control via the
                      a(href="https://github.com/ismyrnow/Leaflet.groupedlayercontrol", target="_blank") grouped layer control plugin
              #disclaimer.tab-pane.fade.text-danger
                p The data provided on this site is for informational and planning purposes only.
                p
                  | Absolutely no accuracy or completeness guarantee is implied or intended. All information on this map is subject to such variations and corrections as might result from a complete title search and/or accurate field survey.
              #contact.tab-pane.fade
                form#contact-form
                  .well.well-sm
                    .row
                      .col-md-4
                        .form-group
                          label(for="first-name") First Name:
                          input#first-name.form-control(type="text")
                        .form-group
                          label(for="last-name") Last Name:
                          input#last-email.form-control(type="text")
                        .form-group
                          label(for="email") Email:
                          input#email.form-control(type="text")
                      .col-md-8
                        label(for="message") Message:
                        textarea#message.form-control(rows="8")
                      .col-md-12
                        p
                          button.btn.btn-primary.pull-right(type="submit", data-dismiss="modal") Submit
              #boroughs-tab.tab-pane.fade
                p
                  | Borough data courtesy of
                  a(href="http://www.nyc.gov/html/dcp/html/bytes/meta_dis_nyboroughwi.shtml", target="_blank") New York City Department of City Planning
              #subway-lines-tab.tab-pane.fade
                p
                  a(href="http://spatialityblog.com/2010/07/08/mta-gis-data-update/#datalinks", target="_blank") MTA Subway data
                  | courtesy of the
                  a(href="http://www.urbanresearch.org/about/cur-components/cuny-mapping-service", target="_blank") CUNY Mapping Service at the Center for Urban Research
              #theaters-tab.tab-pane.fade
                p
                  | Theater data courtesy of
                  a(href="https://data.cityofnewyork.us/Recreation/Theaters/kdu2-865w", target="_blank") NYC Department of Information &#38; Telecommunications (DoITT)
              #museums-tab.tab-pane.fade
                p
                  | Museum data courtesy of
                  a(href="https://data.cityofnewyork.us/Recreation/Museums-and-Galleries/sat5-adpb", target="_blank") NYC Department of Information &#38; Telecommunications (DoITT)
          .modal-footer
            button.btn.btn-default(type="button", data-dismiss="modal") Close
        // /.modal-content
      // /.modal-dialog
    // /.modal
    #legendModal.modal.fade(tabindex="-1", role="dialog")
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal", aria-hidden="true") &#215;
            h4.modal-title Map Legend
          .modal-body
            p Map Legend goes here...
          .modal-footer
            button.btn.btn-default(type="button", data-dismiss="modal") Close
        // /.modal-content
      // /.modal-dialog
    // /.modal
    #loginModal.modal.fade(tabindex="-1", role="dialog")
      .modal-dialog.modal-sm
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal", aria-hidden="true") &#215;
            h4.modal-title Login
          .modal-body
            form#contact-form
              fieldset
                .form-group
                  label(for="name") Username:
                  input#username.form-control(type="text")
                .form-group
                  label(for="email") Password:
                  input#password.form-control(type="password")
          .modal-footer
            button.btn.btn-default(type="button", data-dismiss="modal") Cancel
            button.btn.btn-primary(type="submit", data-dismiss="modal") Login
        // /.modal-content
      // /.modal-dialog
    // /.modal
    #featureModal.modal.fade(tabindex="-1", role="dialog")
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal", aria-hidden="true") &#215;
            h4#feature-title.modal-title.text-primary
          #feature-info.modal-body
          .modal-footer
            button.btn.btn-default(type="button", data-dismiss="modal") Close
        // /.modal-content
      // /.modal-dialog
    // /.modal
    #attributionModal.modal.fade(tabindex="-1", role="dialog")
      .modal-dialog
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal", aria-hidden="true") &#215;
            h4.modal-title
              | Developed by
              a(href="http://bryanmcbride.com") bryanmcbride.com
          .modal-body
            #attribution
        // /.modal-content
      // /.modal-dialog
    // /.modal
    // basemap widget
    #basemapWidget.leaflet-control-layers.leaflet-control-layers-expanded(style="display:none;")
      ul
        li(title="ESRI Light Gray Map")
          img(src="images/basemap/gray.jpg")
          p Light Gray Map
        li(title="ESRI Imagery Map")
          img(src="images/basemap/satellite.jpg")
          p Satellite
        // <li title='ESRI Street Map'><img src='images/basemap/street.jpg'><p>Street</p></li>
        li(title="ESRI National Geographic Map")
          img(src="images/basemap/natgeo.jpg")
          p National Geographic
        li(title="ESRI Topographic Map")
          img(src="images/basemap/topo.jpg")
          p Topographic
        //<li title='ESRI Terrain Map'><img src='images/basemap/terrain.jpg'><p>Terrain</p></li>
        //<li title='ESRI Ocean Map'><img src='images/basemap/ocean.jpg'><p>Ocean</p></li>
        li(title="OpenStreet Map")
          img(src="images/basemap/osm.jpg")
          p Open Street Map
        // <li><img src='images/basemap/natgeo.jpg'><p>Light Gray Map</p></li>

    //mapPopup markerGroup 
    #mapPopup_markerGroup.mapPopupWidget
      .mapPopupWidget_arrow
      .mapPopupWidget_content(style="height:125px; ")
        label Change marker icon:
        ul
          li
            img.dot(src="images/marker/1374590715_bullet-blue.png", markerwidth="11", markerheight="11")
          li
            img.dot(src="images/marker/1374590758_bullet-yellow.png", markerwidth="11", markerheight="11")
          li
            img.dot(src="images/marker/1374590742_bullet-green.png", markerwidth="11", markerheight="11")
          li
            img.dot(src="images/marker/1376599876_bullet_orange.png", markerwidth="11", markerheight="11")
          li
            img.dot.search-default(src="images/marker/1374590792_bullet-black.png", markerwidth="11", markerheight="11")
          li
            img.small(src="images/marker/blue/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/yellow/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/green/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/orange/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/black/5.png", markerwidth="10", markerheight="13.5")
          li
            img.mid.icon-active(src="images/marker/blue/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/yellow/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/green/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/orange/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/black/5.png", markerwidth="16", markerheight="21.6")


    // heatmap radius window
    #mapPopup_heatmap.mapPopupWidget
      .mapPopupWidget_arrow
      .mapPopupWidget_content.ui-corner-all
        form
          label(for="heatmap_slider") Change Heatmap Radius
          input#heatmap_slider.bootstrap-slider(type="text", name="heatmap_slider", data-slider-min="0", data-slider-max="100", value="50")



    // popup
    #popupLoadCache.modal.fade()
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            h3 Welcome to GeoViewer
            span(style='white-space:pre;')
              | a Web-based mapping application which provides the general public a window 
              | to see the ground truth of a topic and its changes in social media.
            img.logo(src='images/HDMA_Logo_Small_ICON.png')
          .modal-body
            img.loading(src='images/loading.gif')
            | Loading the Latest 100 Tweets....
    #popupTopic.modal.fade.bs-example-modal-lg(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            h4#myModalLabel.modal-title About 
              a(href='http://humandynamics.sdsu.edu/index.html' target='_blank') Human Dynamics Center, San Diego State University
          .modal-body
            p 
              a(href='http://humandynamics.sdsu.edu/index.html' target='_blank') Human Dynamics 
              | is a transdisciplinary research field focusing on the understanding of dynamic patterns, relationships, narratives, changes, and transitions of human activities, behaviors, and communications. 
            p The Center for Human Dynamics in the Mobile Age (HDMA) is a new research institute at SDSU to focus on research questions and analytical software development for human dynamics problems, such as disaster responses and disease outbreaks, urban problems, by monitoring information from mobile technologies and mobile devices (such as GIS, social media and GPS datasets).
            hr
            p Please select a topic
            ul
              li.bg-green(href='flu')
                //img(src='img/avatar.png')
                p Flu
              li.bg-red(href='whoopingCough') 
                //img(src='img/avatar2.png')
                p Whooping Cough
              li.bg-yellow(href='wildfire') 
                //img(src='img/avatar3.png')
                p Wildfire
              li.bg-blue(href='drugs') 
                //img(src='img/avatar3.png')
                p Drugs
              li.bg-green(href='aztecs') 
                //img(src='img/avatar3.png')
                p Aztecs
          //.modal-footer
            //button.btn.btn-default(type="button", data-dismiss="modal") Close
            //button.btn.btn-primary(type="button") Save changes

    //popup login
    #popupLogin.modal.fade.form-box(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            .header Sign In
          .modal-body
            form(action="", method="post" id='formLogin')
              .form-group
                input.form-control#formUsername(type="text", name="userid", placeholder="User ID")
              .form-group
                input.form-control#formPassword(type="password", name="password", placeholder="Password")
              .form-group(style='position:relative; ')
                input#rememberMe(type="checkbox", name="remember_me")
                | &nbsp; Remember me
                #loginMsg
              button.btn.bg-olive.btn-block(type="submit") Sign me in
                img#loginLoading(src='images/loading.gif')
              p
              //a(href="#") I forgot my password
              P
              //a.text-center(href="register.html") Register a new membership
          .modal-footer
            .margin.text-center
              //span Sign in using social networks
              //br
              //button.btn.bg-light-blue.btn-circle
                //i.fa.fa-facebook
              //button.btn.bg-aqua.btn-circle
                //i.fa.fa-twitter
              //button.btn.bg-red.btn-circle
                //i.fa.fa-google-plus


    include script

