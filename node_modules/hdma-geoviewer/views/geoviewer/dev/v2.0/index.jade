doctype html
html
  head
    meta(charset="UTF-8")
    title GeoViewer !{version} || HDMA, SDSU
    meta(content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no", name="viewport")
    include css
  body.skin-black.fixed
    // header logo: style can be found in header.less
    header.header
      a.logo(href="./")
        // Add the class icon to your logo image or logo icon to add the margining
        .pull-left.image
              img(src="images/HDMA_Logo_Small_For_Dark_Background_ICON.png", alt="HDMA Center@SDSU", style='border:0px;')
        .pull-left.info(style='padding:3px 5px 3px 5px; ')
          h4(title='GeoViewer') GeoViewer 
            span &nbsp; !{version}
          //| Human Dynamics Center, SDSU
      // Header Navbar: style can be found in header.less
      nav.navbar.navbar-static-top(role="navigation")
        // Sidebar toggle button
        a.navbar-btn.sidebar-toggle(href="#", data-toggle="offcanvas", role="button", title='show/hide menu')
          span.sr-only Toggle navigation
          span.icon-bar
          span.icon-bar
          span.icon-bar
        .navbar-right
          ul.nav.navbar-nav#navbar-nav
            // User Account: style can be found in dropdown.less
            li.dropdown.user.user-menu
              a.dropdown-toggle(href="#", data-toggle="dropdown")
                i.glyphicon.glyphicon-user
                span
                  span.usernameTitle.login Log in
                  i.caret
              ul.dropdown-menu
                // User image
                li.user-header.bg-light-blue
                  img.img-circle(src="img/avatar3.png", alt="User Image")
                  p
                    span.usernameTitle Guest
                    small since Feb. 2014
                    span#usermenuToken
                // Menu Body
                //li.user-body
                  //.col-xs-4.text-center
                    //a(href="#") Followers
                  //.col-xs-4.text-center
                    //a(href="#") Sales
                  //.col-xs-4.text-center
                    //a(href="#") Friends
                // Menu Footer
                li.user-footer
                  .pull-left
                    //a.btn.btn-default.btn-flat(href="#") Profile
                  .pull-right
                    a.btn.btn-default.btn-flat(onclick='init.logout()') Sign out
    .wrapper.row-offcanvas.row-offcanvas-left
      //Left side column. contains the logo and sidebar
      aside.left-side.sidebar-offcanvas 
        //copyright
        //#copyright 
          //img(src='images/SDSU_3Color-small.gif')
          //p Human Dynamics<br>in the Mobile Age
        // sidebar: style can be found in sidebar.less
        section.sidebar
          // Sidebar user panel
          .sidebar-search
            p.title Search & Filter
              .row.form-group
                //.col-xs-3.col-md-3.control-label Keyword
                .col-xs-12.col-md-12
                  .input-group.input-group-sm
                    span.input-group-addon(data-container="body",data-toggle="popover", data-placement="bottom", data-trigger='hover', data-html='true', data-content="You may use <ul><li>1) comma (',') for multiple keywords</li><li>2) '-' to exclude keywords</li></ul><p></p> For example, <br><b>wildfire, fire, -chula vista</b></br>is to search tweets which have 'wildfire' and 'fire' keywords but without 'chula vista' keyword.")
                      i.fa.fa-question
                    input#search-keyword.form-control(type="text", placeholder="Input keywords")
              .row.form-group
                //.col-xs-3.col-md-3.control-label Date
                .col-xs-12.col-md-12
                  .input-group.input-group-sm
                    span.input-group-addon From
                    input#search-startDate.form-control.datepicker(type="text", placeholder="From Date")
                  .input-group.input-group-sm
                    span.input-group-addon &nbsp;&nbsp;To&nbsp;&nbsp;
                    input#search-endDate.form-control.datepicker(type="text", placeholder="To Date")
              .row.form-group
                //.col-xs-3.col-md-3.control-label GeoLocation
                .col-xs-12.col-md-12
                  .input-group.input-group-sm
                    span.input-group-addon.search-geolocation.click
                      i.fa.fa-compass
                    input#search-geolocation.search-geolocation.click.form-control(type="text", placeholder="Click to draw a polygon on the map")
              .row.form-group
                //.col-xs-6.col-md-6.control-label.search-msg
                .col-xs-12.col-md-12.toolbar
                  .btn-group.btn-group-sm.pull-right(role='group')
                    button#btn-restore.btn.btn-default(type="button", data-sort="feature-name", style='') Restore
                    button#btn-search.btn.btn-primary(type="button", data-sort="feature-name") Search
                .col-xs-12.col-md-12.control-label.search-msg
          ul.sidebar-menu
            li.active.treeview
              a.sectionSwitch(href="#", data-target='contentMap')
                i.fa.fa-map-marker
                span Map
                span.badge 0
              ul.treeview-menu
                li
                  a.submenu(href="#", data-target='#tweet_carousel' style='')  
                    i.fa.fa-angle-double-right
                    | Show / Hide Carousel	
            li.treeview
              a.sectionSwitch(href="#", data-target='contentWall')
                i.fa.fa-check-circle
                span List
                span.badge 0
            li.treeview
              a.sectionSwitch(href="#" data-target='contentDashboard')
                i.fa.fa-dashboard
                span Dashboard
                i.fa.fa-angle-left.pull-right
              ul.treeview-menu.dashboard-menu				
            li.popup-content(data-target='#popupPrivacy')
              a(href="#")
                i.fa.fa-archive
                span Privacy Policy		
            li.treeview(style='display:none').admin-content
              a(href="#")
                i.fa.fa-gear
                span Admin
                i.fa.fa-angle-left.pull-right
              ul.treeview-menu
                li
                  a.sectionSwitch(href="#", data-target='contentAdmin' style='margin-left:0px !important;')  
                    i.fa.fa-angle-double-right
                    | Add Keywords						
        // /.sidebar
      // Right side column. Contains the navbar and content of the page
      aside.right-side
        // Content Header (Page header)
        section.content-header
          h1
            | Dashboard
            small Control panel
          ol.breadcrumb
            li
              a(href="#")
                i.fa.fa-dashboard
                | Home
            li.active Dashboard
        // Main content
        section.content#contentDashboard
          // Main row
          .row
            // Left col
            section.col-lg-6.connectedSortable
              //trend
              .box.box-trend.nav-tabs-custom.default-daily
              // topURL
              .box.box-topURL
              //top retweet
              .box.box-topRetweet
            section.col-lg-6.connectedSortable
              //top media
              .box.box-topMedia
              // word cloud
              .box.box-wordcloud.nav-tabs-custom
              // Map box
              .box.box-primary.box-map.nav-tabs-custom
                // Tabs within a box
                ul.nav.nav-tabs.pull-right
                  li.pull-left.header
                    i.fa.fa-map-marker
                    | Tweets in Cities
                .box-body.no-padding#box-mapContent
                  #topCityMap
                  .table-responsive.box-map-table
                    table.table.table-condensed
                    .expand-arrow
                      center
                        i.fa.fa-arrow-circle-down
                        | More Results
        //map content
        section.content.content-active#contentMap
          div
            div#map
            div#tweet_carousel
              div#carousel_toolbar Carousel Toolbar
              div#carousel_content
        //wall content
        section.content#contentWall
          div#wall
            ul.streamingList
            ul.searchList

        //download content
        section.content#contentDownload
          iframe(src='about:blank')


    // basemap widget
    #basemapWidget.leaflet-control-layers.leaflet-control-layers-expanded(style="display:none;")
      ul
        li(title="ESRI Light Gray Map")
          img(src="images/basemap/gray.jpg")
          p Light Gray Map
        li(title="ESRI Imagery Map")
          img(src="images/basemap/satellite.jpg")
          p Satellite
        li(title="ESRI Street Map")
          img(src="images/basemap/street.jpg")
          p Street
        li(title="ESRI National Geographic Map")
          img(src="images/basemap/natgeo.jpg")
          p National Geographic
        li(title="NASA NightView Map")
          img(src="images/basemap/NASANightViewMap.png")
          p NightView Map
        //li(title="ESRI Topographic Map")
          //img(src="images/basemap/topo.jpg")
          //p Topographic
        //
          <li title='ESRI Terrain Map'><img src='images/basemap/terrain.jpg'><p>Terrain</p></li>
          				<li title='ESRI Ocean Map'><img src='images/basemap/ocean.jpg'><p>Ocean</p></li>
        li(title="OpenStreet Map")
          img(src="images/basemap/osm.jpg")
          p Open Street Map
        // <li><img src='images/basemap/natgeo.jpg'><p>Light Gray Map</p></li>
    

    // popup
    #popupTopic.modal.fade.bs-example-modal-lg(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            //button.close(type="button", data-dismiss="modal")
              //span(aria-hidden="true") &#215;
              //span.sr-only Close
            h4#myModalLabel.modal-title 
              | SMART Dashboard, 
              a(href='http://humandynamics.sdsu.edu/index.html' target='_blank') The Center for Human Dynamics in the Mobile Age
          .modal-body
            p SMART Dashboard is a Geo-Targeted search tool for Twitter messages to monitor the diffusion of information and social behavior changes which provides an automatic procedure to help researchers to:
              ol (1) search geographically in cities; 
              ol (2) filter noises (such as removing redundant retweets and using machine learning methods to improve precisions); 
              ol (3) analyze social media data from a spatiotemporal perspective, and 
              ol (4) visualize social media data in various aspects (such as weekly and monthly trends, top URLs, top retweets, top mentions, or top hashtags). 
            hr
            p Please select a topic
            ul
              li.bg-green(href='flu')
                //img(src='img/avatar.png')
                p Flu
              li.bg-red(href='whoopingCough') 
                //img(src='img/avatar2.png')
                p Whooping Cough
              li.bg-yellow(href='wildfire') 
                //img(src='img/avatar3.png')
                p Wildfire
              //li.bg-blue(href='drugs') 
                //img(src='img/avatar3.png')
                //p Drugs
              li.bg-blue(href='aztecs') 
                //img(src='img/avatar3.png')
                p Aztecs
          //.modal-footer
            //button.btn.btn-default(type="button", data-dismiss="modal") Close
            //button.btn.btn-primary(type="button") Save changes

    // popup data table
    #popupDataTable.modal.fade(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal")
              span(aria-hidden="true") &#215;
              span.sr-only Close
            h4#myModalLabel.modal-title About 
          .modal-body
            table#dataTable(cellpadding='0' cellspacing='0' border='0')
          .modal-footer
            button.btn.btn-default(type="button", data-dismiss="modal") Close
            //button.btn.btn-primary(type="button") Save changes

    //popup login
    #popupLogin.modal.fade.form-box(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            .header Sign In
          .modal-body
            form(action="", method="post" id='formLogin')
              .form-group
                input.form-control#formUsername(type="text", name="userid", placeholder="User ID")
              .form-group
                input.form-control#formPassword(type="password", name="password", placeholder="Password")
              .form-group(style='position:relative; ')
                input#rememberMe(type="checkbox", name="remember_me")
                | &nbsp; Remember me
                #loginMsg
              button.btn.bg-olive.btn-block(type="submit") Sign me in
                img#loginLoading(src='images/loading.gif')
              p
              //a(href="#") I forgot my password
              P
              //a.text-center(href="register.html") Register a new membership
          .modal-footer
            .margin.text-center
              //span Sign in using social networks
              //br
              //button.btn.bg-light-blue.btn-circle
                //i.fa.fa-facebook
              //button.btn.bg-aqua.btn-circle
                //i.fa.fa-twitter
              //button.btn.bg-red.btn-circle
                //i.fa.fa-google-plus
    //popup privacy
    #popupPrivacy.modal.fade.form-box(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal")
              span(aria-hidden="true") &#215;
              span.sr-only Close
          .header Privacy Policy
          .modal-body
            p If you have any concerns about the privacy issues in our web applications, 
            p please 
              a(href='mailto:hdmasdsu@gmail.com') Email us (hdmasdsu@gmail.com)
            br
            p After verify your information, we will remove specific social media contents based on your requests.
    //popup feedback
    #popupFeedback.modal.fade.form-box(tabindex="-1", role="dialog", aria-labelledby="myModalLabel", aria-hidden="true")
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            button.close(type="button", data-dismiss="modal")
              span(aria-hidden="true") &#215;
              span.sr-only Close
          .header Feedback
          .modal-body
            iframe(src="https://docs.google.com/forms/d/1krMOkzHqG4lJYa-ouIdcvf8c38ZPXgBY-qHC3oxwqJw/viewform?embedded=true", frameborder="0", marginheight="0", marginwidth="0") Loading...

    //mapPopup markerGroup 
    #mapPopup_markerGroup.mapPopupWidget
      .mapPopupWidget_arrow
      .mapPopupWidget_content(style="height:125px; ")
        label Change marker icon:
        ul
          li
            img.dot(src="images/marker/1374590715_bullet-blue.png", markerwidth="11", markerheight="11")
          li
            img.dot(src="images/marker/1374590758_bullet-yellow.png", markerwidth="11", markerheight="11")
          li
            img.dot(src="images/marker/1374590742_bullet-green.png", markerwidth="11", markerheight="11")
          li
            img.dot(src="images/marker/1376599876_bullet_orange.png", markerwidth="11", markerheight="11")
          li
            img.dot.search-default(src="images/marker/1374590792_bullet-black.png", markerwidth="11", markerheight="11")
          li
            img.small(src="images/marker/blue/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/yellow/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/green/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/orange/5.png", markerwidth="10", markerheight="13.5")
          li
            img.small(src="images/marker/black/5.png", markerwidth="10", markerheight="13.5")
          li
            img.mid.icon-active(src="images/marker/blue/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/yellow/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/green/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/orange/5.png", markerwidth="16", markerheight="21.6")
          li
            img.mid(src="images/marker/black/5.png", markerwidth="16", markerheight="21.6")


    // heatmap radius window
    #mapPopup_heatmap.mapPopupWidget
      .mapPopupWidget_arrow
      .mapPopupWidget_content.ui-corner-all
        form
          label(for="heatmap_slider") Change Heatmap Radius
          input#heatmap_slider.bootstrap-slider(type="text", name="heatmap_slider", data-slider-min="0", data-slider-max="100", value="50")



    // popup
    #popupLoadCache.modal.fade()
      .modal-dialog.modal-lg
        .modal-content
          .modal-header
            h3 Welcome to GeoViewer
            span(style='white-space:pre;')
              | a Web-based mapping application which provides the general public a window 
              | to see the ground truth of a topic and its changes in social media.
            img.logo(src='images/HDMA_Logo_Small_ICON.png')
          .modal-body
            img.loading(src='images/loading.gif')
            | Loading the Latest 100 Tweets....

    include script